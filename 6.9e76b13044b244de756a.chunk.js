(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{dc72ed96ead4ab58d986:function(e,t,n){"use strict";n.r(t);var a=n("8af190b70a6bc55c6f1b"),o=n.n(a),r=n("d7dd51e1bf6bfc2c9c3d"),i=n("ab4cb61bcb2dc161defb"),c=n("a28fc3c963a1d4d1a2e5"),l=n("d95b0cf107403b178365"),s=n("54f683fcda7806277002"),u=Object(s.fromJS)({derp:null});var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return arguments[1].type,e},p=n("6542cd13fd5dd1bcffd4"),f=(n("3fa218e26c867fe0290c"),n("435859b6b76fb67a754a")),b=n.n(f),v=n("6938d226fd372a75cbf9"),h=(n("8a2d1b95e05b6a321e74"),n("b88b4ca4fbcce35e1752")),m=n.n(h),g=n("dfed1fb5d3a1df4e62d5"),y=n.n(g),w=n("c16cfdb2c84681957157"),O=n.n(w),j=n("921c0b8c557fe6ba5da8"),S=n.n(j),k=n("80e80f602055becd595c"),N=n.n(k),x=n("b27e083e7741c2dccb3f"),_=n.n(x),C=n("b78ee477e6ac6a65dd83"),P=n.n(C),R=n("282d5645b44ba868741e"),A=n.n(R),D=n("2aea235afd5c55b8b19b"),E=n.n(D),L=n("ff4f53cc119f232ddc3a"),T=n.n(L),V=n("03027ef652f840147476"),$=n.n(V),q=n("c043cc14cfc50e8a9a6c"),B=n.n(q),I=n("26e95055143f95aa9ed4"),G=n.n(I),H=n("336be1f03a45da13ce56"),J=n.n(H),W=n("e777244f8e08c53fe98b"),z=n.n(W),F=n("432aae369667202efa42"),M=n.n(F),Q=n("4215219cdbf5c6447f1f"),U=n("f7ea02e80a2ceaf9aa88"),K=n("ee57102d936cee5d3060"),X=n.n(K),Y=(n("7d90b3becf25471abfbc"),function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,a,o){var r=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&r)for(var c in r)void 0===n[c]&&(n[c]=r[c]);else n||(n=r||{});if(1===i)n.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];n.children=l}return{$$typeof:e,type:t,key:void 0===a?null:""+a,ref:null,props:n,_owner:null}}}()),Z=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var ee=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),Z(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.closeHandler;return Y("div",{},void 0,t&&Y(X.a,{mainSrc:t,onCloseRequest:n}))}}]),t}(),te=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,a,o){var r=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&r)for(var c in r)void 0===n[c]&&(n[c]=r[c]);else n||(n=r||{});if(1===i)n.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];n.children=l}return{$$typeof:e,type:t,key:void 0===a?null:""+a,ref:null,props:n,_owner:null}}}(),ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var oe=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=ae(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.state={expanded:null,lightBoxSrc:null},a.handleChange=function(e){return function(t,n){a.setState({expanded:!!n&&e})}},ae(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),ne(t,[{key:"acceptStudent",value:function(e){var t=e.data();Q.a.collection("registration").doc(t.term.toLowerCase()).collection("applications").doc(e.id).update({approved:!0})}},{key:"resetStudent",value:function(e){var t=e.data();Q.a.collection("registration").doc(t.term.toLowerCase()).collection("applications").doc(e.id).update({approved:null})}},{key:"declineStudent",value:function(e){var t=e.data();Q.a.collection("registration").doc(t.term.toLowerCase()).collection("applications").doc(e.id).update({approved:!1})}},{key:"generateListData",value:function(){var e=this,t=this.state.expanded,n=this.props,a=n.classes,o=n.groupName;return this.props.listData.filter(function(t){return!(e.props.filter&&e.props.filter.trim().length>0)||Object.values(t.data()).filter(function(t){return t&&String(t).toLowerCase().includes(e.props.filter.trim().toLowerCase())}).length>0}).sort(function(e,t){var n=e.data().creditsRequested,a=t.data().creditsRequested,o=e.data().givenName,r=t.data().givenName;return n<a?-1:n>a?1:o<r?-1:o>r?1:0}).map(function(n,r){var i=n.data();Object(U.throttle)(function(e){console.log(e)},500);return te(m.a,{expanded:t===o+"-panel-"+r,onChange:e.handleChange(o+"-panel-"+r)},n.id,te(ee,{src:e.state.lightBoxSrc,closeHandler:function(){e.setState({lightBoxSrc:null})}}),te(O.a,{expandIcon:te(N.a,{})},void 0,te(S.a,{className:a.heading},void 0,i.givenName+(i.customName&&i.customName.length>0?" ("+i.customName+")":"")),te(S.a,{className:a.secondaryHeading},void 0,i.idNumber+" | Reported GPA: "+i.gpa.toFixed(2)+" | "+(i.creditsRequested>0?i.creditsRequested+" units":"Volunteer"))),te(y.a,{},void 0,te(b.a,{container:!0,spacing:8},void 0,te(b.a,{item:!0,xs:6},void 0,te(J.a,{className:a.fullWidthList},void 0,te(z.a,{},void 0,te(M.a,{primary:"Email",secondary:i.givenEmail})),te(_.a,{}),te(z.a,{},void 0,te(M.a,{primary:"Tutoring For",secondary:i.tutoredClasses})),te(_.a,{}),te(z.a,{},void 0,te(M.a,{primary:"Taking Classes",secondary:i.takingClasses})),i.anythingElse?te("div",{},void 0,te(_.a,{}),te(z.a,{},void 0,te(M.a,{primary:"Additional Info",secondary:i.anythingElse}))):null)),te(b.a,{item:!0,xs:6},void 0,te(J.a,{className:a.fullWidthList},void 0,te(z.a,{button:!0,onClick:function(){window.open("https://i.imgur.com/"+JSON.parse(i.storedImage).id+".gif")}},void 0,te(M.a,{primary:"View Schedule",secondary:"Opens in a new window"})))))),te(_.a,{}),te(T.a,{className:a.expansionPanel},void 0,"Approved"!==e.props.groupName?te(E.a,{variant:"contained",mini:!0,component:"span","aria-label":"Accept",className:a.buttonAccept,onClick:function(){return e.acceptStudent(n)}},void 0,"Accept"):te("div",{}),"Rejected"!==e.props.groupName?te(E.a,{variant:"contained",mini:!0,component:"span","aria-label":"Decline",className:a.buttonDecline,onClick:function(){return e.declineStudent(n)}},void 0,"Reject"):te("div",{}),"Rejected"===e.props.groupName||"Approved"===e.props.groupName?te(E.a,{variant:"contained",mini:!0,component:"span","aria-label":"Reset",className:a.buttonReset,onClick:function(){return e.resetStudent(n)}},void 0,"Reset"):te("div",{})))})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.groupName,a=e.listData;return null===a||0===a.length?te("div",{}):te("div",{className:t.root},void 0,te(P.a,{position:"static",color:"default"},void 0,te(A.a,{},void 0,te(S.a,{variant:"title",color:"inherit"},void 0,n))),this.generateListData())}}]),t}(),re=Object(c.b)({}),ie=Object(r.connect)(re,null),ce=Object(i.compose)(ie,Object(v.withStyles)(function(e){return{root:{width:"100%",marginBottom:40},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},secondRoot:{flexGrow:1},button:{margin:e.spacing.unit},buttonAccept:{background:B.a[600],"&:hover":{background:B.a[900]},margin:e.spacing.unit,padding:4,color:"white"},buttonDecline:{background:$.a[600],"&:hover":{background:$.a[900]},margin:e.spacing.unit,padding:4,color:"white"},buttonReset:{background:G.a[600],"&:hover":{background:G.a[900]},margin:e.spacing.unit,padding:4,color:"white"},expansionPanel:{padding:0},fullWidthList:{width:"100%"}}},{name:"ApprovalGroup"}))(oe),le=n("c7fd554010f79f6c0ef8"),se=n.n(le);n.d(t,"mapDispatchToProps",function(){return fe});var ue=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,a,o){var r=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&r)for(var c in r)void 0===n[c]&&(n[c]=r[c]);else n||(n=r||{});if(1===i)n.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];n.children=l}return{$$typeof:e,type:t,key:void 0===a?null:""+a,ref:null,props:n,_owner:null}}}(),de=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var pe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={pending:null,approved:null,rejected:null,searchValue:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),de(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;null==e.term&&null!=this.props.term&&Q.a.collection("registration").doc(this.props.term.get("shortDate").toLowerCase()).collection("applications").onSnapshot(function(e){var t=[],a=[],o=[];e.forEach(function(e){var n=e.data();!0===n.approved?a.push(e):!1===n.approved?o.push(e):t.push(e)}),n.setState({pending:t,approved:a,rejected:o})})}},{key:"render",value:function(){var e=this,t=this.props.classes;return this.props.adminStatus?ue("div",{className:t.root},void 0,ue(b.a,{container:!0,spacing:24},void 0,ue(b.a,{item:!0,xs:12},void 0,ue("div",{className:t.inputMargin},void 0,ue(se.a,{id:"full-width",label:"Quick Search",InputLabelProps:{shrink:!0},helperText:"Narrow down results using name or ID",fullWidth:!0,margin:"normal",onChange:function(t){e.setState({searchValue:t.target.value})}})),ue(ce,{listData:this.state.pending,filter:this.state.searchValue,groupName:"Pending"}),ue(ce,{listData:this.state.approved,groupName:"Approved",filter:this.state.searchValue}),ue(ce,{listData:this.state.rejected,groupName:"Rejected",filter:this.state.searchValue})))):ue("div",{})}}]),t}();function fe(e){return{}}var be=Object(c.b)({user:Object(p.c)(),term:Object(p.b)(),adminStatus:Object(p.a)()}),ve=Object(r.connect)(be,fe),he=Object(l.a)({key:"athenaApprovalPage",reducer:d});t.default=Object(i.compose)(Object(v.withStyles)(function(e){return{root:{flexGrow:1,margin:10},paper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},inputMargin:{padding:10}}},{name:"AthenaApprovalPage"}),he,ve)(pe)}}]);