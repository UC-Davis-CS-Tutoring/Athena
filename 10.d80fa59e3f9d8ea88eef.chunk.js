(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{dc72ed96ead4ab58d986:function(e,t,n){"use strict";n.r(t);var o=n("8af190b70a6bc55c6f1b"),a=n.n(o),r=n("d7dd51e1bf6bfc2c9c3d"),i=n("ab4cb61bcb2dc161defb"),c=n("a28fc3c963a1d4d1a2e5"),l=n("d95b0cf107403b178365"),u=n("6542cd13fd5dd1bcffd4"),s=n("435859b6b76fb67a754a"),p=n.n(s),f=n("6938d226fd372a75cbf9"),d=(n("8a2d1b95e05b6a321e74"),n("b88b4ca4fbcce35e1752")),b=n.n(d),v=n("dfed1fb5d3a1df4e62d5"),h=n.n(v),m=n("c16cfdb2c84681957157"),y=n.n(m),g=n("921c0b8c557fe6ba5da8"),w=n.n(g),O=n("80e80f602055becd595c"),j=n.n(O),S=n("b27e083e7741c2dccb3f"),k=n.n(S),_=n("b78ee477e6ac6a65dd83"),C=n.n(_),x=n("282d5645b44ba868741e"),N=n.n(x),R=n("2aea235afd5c55b8b19b"),P=n.n(R),A=n("ff4f53cc119f232ddc3a"),E=n.n(A),D=n("03027ef652f840147476"),T=n.n(D),L=n("c043cc14cfc50e8a9a6c"),V=n.n(L),$=n("26e95055143f95aa9ed4"),I=n.n($),B=n("336be1f03a45da13ce56"),q=n.n(B),F=n("e777244f8e08c53fe98b"),G=n.n(F),H=n("432aae369667202efa42"),J=n.n(H),W=n("c7fd554010f79f6c0ef8"),z=n.n(W),M=n("f7ea02e80a2ceaf9aa88"),Q=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,a){var r=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&r)for(var c in r)void 0===n[c]&&(n[c]=r[c]);else n||(n=r||{});if(1===i)n.children=a;else if(i>1){for(var l=Array(i),u=0;u<i;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),U=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var K=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.initialValue},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),U(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.elem,a=Object(M.debounce)(1e3,function(t){e.props.baseRef.doc(o.id).set({approverComments:t},{merge:!0})});return Q(z.a,{id:"textarea",label:"Approver Comments",value:this.state.value,multiline:!0,className:n.textField,onChange:function(t){var n=t.target.value;e.setState({value:n}),a(n)},margin:"normal"})}}]),t}(),X=Object(c.b)({}),Y=Object(r.connect)(X,null),Z=Object(i.compose)(Y,Object(f.withStyles)(function(e){return{textField:{width:"100%",marginTop:"0px"}}},{name:"ApprovalComments"}))(K),ee=n("4215219cdbf5c6447f1f"),te=n("ee57102d936cee5d3060"),ne=n.n(te),oe=(n("7d90b3becf25471abfbc"),function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,a){var r=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&r)for(var c in r)void 0===n[c]&&(n[c]=r[c]);else n||(n=r||{});if(1===i)n.children=a;else if(i>1){for(var l=Array(i),u=0;u<i;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}()),ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var re=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),ae(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.closeHandler;return oe("div",{},void 0,t&&oe(ne.a,{mainSrc:t,onCloseRequest:n}))}}]),t}(),ie=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,a){var r=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&r)for(var c in r)void 0===n[c]&&(n[c]=r[c]);else n||(n=r||{});if(1===i)n.children=a;else if(i>1){for(var l=Array(i),u=0;u<i;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),ce=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function le(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ue=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=le(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),o.state={expanded:null,lightBoxSrc:null},o.handleChange=function(e){return function(t,n){o.setState({expanded:!!n&&e})}},le(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),ce(t,[{key:"acceptStudent",value:function(e){var t=e.data();ee.a.collection("registration").doc(t.term.toLowerCase()).collection("applications").doc(e.id).update({approved:!0})}},{key:"resetStudent",value:function(e){var t=e.data();ee.a.collection("registration").doc(t.term.toLowerCase()).collection("applications").doc(e.id).update({approved:null})}},{key:"declineStudent",value:function(e){var t=e.data();ee.a.collection("registration").doc(t.term.toLowerCase()).collection("applications").doc(e.id).update({approved:!1})}},{key:"generateListData",value:function(){var e=this,t=(this.state.expanded,this.props),n=t.classes,o=t.groupName,a=t.baseRef;return this.props.listData.filter(function(t){return!(e.props.filter&&e.props.filter.trim().length>0)||Object.values(t.data()).filter(function(t){return t&&String(t).toLowerCase().includes(e.props.filter.trim().toLowerCase())}).length>0}).sort(function(e,t){var n=e.data().creditsRequested,o=t.data().creditsRequested,a=e.data().givenName,r=t.data().givenName;return n<o?-1:n>o?1:a<r?-1:a>r?1:0}).map(function(t,r){var i=t.data(),c=c===o+"-panel-"+r;return ie(b.a,{expanded:c,onChange:e.handleChange(o+"-panel-"+r)},t.id,ie(re,{src:e.state.lightBoxSrc,closeHandler:function(){e.setState({lightBoxSrc:null})}}),ie(y.a,{expandIcon:ie(j.a,{})},void 0,ie(w.a,{className:n.heading},void 0,i.givenName+(i.customName&&i.customName.length>0?" ("+i.customName+")":"")),ie(w.a,{className:n.secondaryHeading},void 0,"Reported GPA: "+i.gpa.toFixed(2)+" | "+(i.creditsRequested>0?i.creditsRequested+" units":"Volunteer")))," ",c?ie(h.a,{},void 0,ie(p.a,{container:!0,spacing:8},void 0,ie(p.a,{item:!0,xs:6},void 0,ie(q.a,{className:n.fullWidthList},void 0,ie(G.a,{button:!0,onClick:function(){document.getElementById(t.id+"-id").select(),document.execCommand("Copy")}},void 0,ie(J.a,{primary:"Student ID (click to copy)",secondary:i.idNumber}),ie("input",{style:{position:"absolute",left:"-999em"},onChange:function(){},"aria-hidden":"true",id:t.id+"-id",value:i.idNumber})),ie(k.a,{}),ie(G.a,{},void 0,ie(J.a,{primary:"Email",secondary:i.givenEmail})),ie(k.a,{}),ie(G.a,{},void 0,ie(J.a,{primary:"Tutoring For",secondary:i.tutoredClasses})),ie(k.a,{}),i.anythingElse?ie("div",{},void 0,ie(k.a,{}),ie(G.a,{},void 0,ie(J.a,{primary:"Additional Info",secondary:i.anythingElse}))):null)),ie(p.a,{item:!0,xs:6},void 0,ie(q.a,{className:n.fullWidthList},void 0,ie(G.a,{},void 0,ie(J.a,{primary:"Taking Classes",secondary:i.takingClasses})),ie(G.a,{button:!0,onClick:function(){window.open("https://i.imgur.com/"+JSON.parse(i.storedImage).id+".gif")}},void 0,ie(J.a,{primary:"View Schedule",secondary:"Opens in a new window"})),ie(G.a,{},void 0,ie(Z,{initialValue:i.approverComments,elem:t,baseRef:a})))))):null,ie(k.a,{}),ie(E.a,{className:n.expansionPanel},void 0,"Approved"!==e.props.groupName?ie(P.a,{variant:"contained",mini:!0,component:"span","aria-label":"Accept",className:n.buttonAccept,onClick:function(){return e.acceptStudent(t)}},void 0,"Accept"):ie("div",{}),"Rejected"!==e.props.groupName?ie(P.a,{variant:"contained",mini:!0,component:"span","aria-label":"Decline",className:n.buttonDecline,onClick:function(){return e.declineStudent(t)}},void 0,"Reject"):ie("div",{}),"Rejected"===e.props.groupName||"Approved"===e.props.groupName?ie(P.a,{variant:"contained",mini:!0,component:"span","aria-label":"Reset",className:n.buttonReset,onClick:function(){return e.resetStudent(t)}},void 0,"Reset"):ie("div",{})))})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.groupName,o=e.listData;return null===o||0===o.length?ie("div",{}):ie("div",{className:t.root},void 0,ie(C.a,{position:"static",color:"default"},void 0,ie(N.a,{},void 0,ie(w.a,{variant:"title",color:"inherit"},void 0,n," (",o.length,")"))),this.generateListData())}}]),t}(),se=Object(c.b)({}),pe=Object(r.connect)(se,null),fe=Object(i.compose)(pe,Object(f.withStyles)(function(e){return{root:{width:"100%",marginBottom:40},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},secondRoot:{flexGrow:1},button:{margin:e.spacing.unit},buttonAccept:{background:V.a[600],"&:hover":{background:V.a[900]},margin:e.spacing.unit,padding:4,color:"white"},buttonDecline:{background:T.a[600],"&:hover":{background:T.a[900]},margin:e.spacing.unit,padding:4,color:"white"},buttonReset:{background:I.a[600],"&:hover":{background:I.a[900]},margin:e.spacing.unit,padding:4,color:"white"},expansionPanel:{padding:0},fullWidthList:{width:"100%"},textField:{width:"100%"}}},{name:"ApprovalGroup"}))(ue),de=n("54f683fcda7806277002"),be=Object(de.fromJS)({derp:null});var ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be;return arguments[1].type,e};n.d(t,"mapDispatchToProps",function(){return ge});var he=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,a){var r=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&r)for(var c in r)void 0===n[c]&&(n[c]=r[c]);else n||(n=r||{});if(1===i)n.children=a;else if(i>1){for(var l=Array(i),u=0;u<i;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),me=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var ye=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={pending:null,approved:null,rejected:null,searchValue:null,baseRef:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),me(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;if(null==e.term&&null!=this.props.term){var o=ee.a.collection("registration").doc(this.props.term.get("shortDate").toLowerCase()).collection("applications");o.onSnapshot(function(e){var t=[],a=[],r=[];e.forEach(function(e){var n=e.data();!0===n.approved?a.push(e):!1===n.approved?r.push(e):t.push(e)}),n.setState({pending:t,approved:a,rejected:r,baseRef:o})})}}},{key:"render",value:function(){var e=this,t=this.props.classes;return this.props.adminLevel?he("div",{className:t.root},void 0,he(p.a,{container:!0,spacing:24},void 0,he(p.a,{item:!0,xs:12},void 0,he("div",{className:t.inputMargin},void 0,he(z.a,{id:"full-width",label:"Quick Search",InputLabelProps:{shrink:!0},helperText:"Narrow down results using name or ID",fullWidth:!0,margin:"normal",onChange:function(t){e.setState({searchValue:t.target.value})}})),he(fe,{listData:this.state.pending,filter:this.state.searchValue,groupName:"Pending",baseRef:this.state.baseRef}),he(fe,{listData:this.state.approved,groupName:"Approved",filter:this.state.searchValue,baseRef:this.state.baseRef}),he(fe,{listData:this.state.rejected,groupName:"Rejected",filter:this.state.searchValue,baseRef:this.state.baseRef})))):he("div",{},void 0," No Access. ")}}]),t}();function ge(e){return{}}var we=Object(c.b)({user:Object(u.c)(),term:Object(u.b)(),adminLevel:Object(u.a)()}),Oe=Object(r.connect)(we,ge),je=Object(l.a)({key:"athenaApprovalPage",reducer:ve});t.default=Object(i.compose)(Object(f.withStyles)(function(e){return{root:{flexGrow:1,margin:10},paper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},inputMargin:{padding:10}}},{name:"AthenaApprovalPage"}),je,Oe)(ye)}}]);